<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Facebook</title>
    <link rel="stylesheet" th:href="@{/main.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* C√°c style gi·ªØ nguy√™n nh∆∞ b·∫°n ƒë√£ c√≥ (r√∫t g·ªçn ·ªü ƒë√¢y ƒë·ªÉ ng·∫Øn g·ªçn) */
        .navbar { background: white; padding: 8px 16px; position: fixed; width: 100%; top: 0; z-index: 100; }
        .navbar-content { display: flex; justify-content: space-between; align-items: center; max-width: 1200px; margin: 0 auto; }
        .main-content { display: flex; margin-top: 60px; gap: 20px; max-width: 1200px; margin-left: auto; margin-right: auto; padding: 0 15px; }
        .sidebar, .right-sidebar { width: 280px; position: sticky; top: 60px; height: calc(100vh - 60px); overflow-y: auto; padding: 20px; }
        .feed { flex: 1; max-width: 680px; margin: 0 auto; padding: 20px; }
        .post, .friend-suggestion { background: white; border-radius: 8px; padding: 16px; margin-bottom: 20px; box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); }
        .sidebar-item { display: flex; align-items: center; padding: 8px; border-radius: 8px; cursor: pointer; }
        .sidebar-item:hover { background: #f0f2f5; }
        .sidebar-item i { margin-right: 10px; font-size: 20px; }
        .friend-item { display: flex; align-items: center; padding: 10px 0; border-bottom: 1px solid #eee; }
        .friend-info { flex: 1; margin-left: 10px; }
        .friend-name { font-weight: bold; }
        .mutual-friends { font-size: 12px; color: #65676B; }
        .add-friend-btn { background-color: #1877f2; color: white; border: none; padding: 8px 12px; border-radius: 6px; cursor: pointer; font-weight: bold; }
        .add-friend-btn:hover { background-color: #166fe5; }
		.mini-avatar{width: 40px;height: 40px;object-fit: cover;border-radius: 50%;}
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: white;
            border-radius: 8px;
            width: 400px;
            position: relative;
            animation: modalFadeIn 0.3s ease;
        }

        .modal-header {
            padding: 16px;
            border-bottom: 1px solid #dadde1;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h3 {
            margin: 0;
            font-size: 20px;
            font-weight: 600;
        }

        .close-modal {
            font-size: 24px;
            color: #65676B;
            cursor: pointer;
            padding: 4px 8px;
            border-radius: 50%;
            transition: background-color 0.2s;
        }

        .close-modal:hover {
            background-color: #f0f2f5;
        }

        .modal-body {
            padding: 16px;
        }

        .modal-footer {
            padding: 16px;
            border-top: 1px solid #dadde1;
            display: flex;
            justify-content: flex-end;
            gap: 8px;
        }

        .btn-primary {
            background-color: #1877f2;
            color: white;
            padding: 8px 16px;
            border-radius: 6px;
            border: none;
            font-weight: 600;
        }

        .btn-primary:hover {
            background-color: #166fe5;
        }

        .cancel-share {
            background-color: #e4e6eb;
            color: #050505;
            padding: 8px 16px;
            border-radius: 6px;
            border: none;
            font-weight: 600;
        }

        .cancel-share:hover {
            background-color: #d8dadf;
        }

        @keyframes modalFadeIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .comment-input {
            background: #f0f2f5;
            border: none;
            outline: none;
        }

        .comment-input:focus {
            background: white;
            border: 1px solid #1877f2;
        }

        .comment-item {
            animation: fadeIn 0.3s ease-in-out;
        }

        .comment-bubble {
            position: relative;
            word-wrap: break-word;
        }

        .comment-bubble strong {
            display: block;
            margin-bottom: 2px;
            font-size: 13px;
        }

        .comment-bubble p {
            font-size: 14px;
        }

        .mini-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            object-fit: cover;
        }

        .view-more-btn,
        .hide-comments-btn {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.2s;
            width: 100%;
        }

        .view-more-btn:hover,
        .hide-comments-btn:hover {
            background-color: #f0f2f5;
            border-radius: 4px;
        }

        .comment-controls {
            margin-top: 8px;
        }

        .like-btn {
            display: flex;
            align-items: center;
            gap: 4px;
            transition: all 0.2s ease;
        }

        .like-btn .like-icon {
            transition: transform 0.2s ease;
        }

        .like-btn:hover .like-icon {
            transform: scale(1.2);
        }

        .like-btn.liked {
            color: #1877f2;
        }

        .like-btn.liked .like-icon {
            font-weight: 900; /* Solid icon when liked */
        }

        @keyframes likeAnimation {
            0% { transform: scale(1); }
            50% { transform: scale(1.4); }
            100% { transform: scale(1); }
        }

        .like-btn.animating .like-icon {
            animation: likeAnimation 0.4s ease;
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="navbar-content">
            <div style="display: flex; align-items: center; gap: 10px;">
                <img src="https://www.facebook.com/images/fb_icon_325x325.png" alt="Facebook" style="width: 40px;">
                <input type="text" placeholder="T√¨m ki·∫øm tr√™n Facebook" style="padding: 8px; border-radius: 20px; border: none; background: #f0f2f5;">
            </div>
            <div style="display: flex; gap: 20px;">
				<a th:href="@{'/profile/' + ${currentUser.userId}}">
				    <i class="fas fa-user" style="cursor: pointer; color: black;"></i>
				</a>
                <i class="fas fa-comment"></i>
                <i class="fas fa-bell"></i>
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </nav>

    <div class="main-content">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-item"><i class="fas fa-user"></i><span th:text="${currentUser.lastname} + ' ' + ${currentUser.firstname}"></span></div>
            <div class="sidebar-item"><i class="fas fa-user-friends"></i><span>B·∫°n b√®</span></div>
            <div class="sidebar-item"><i class="fas fa-users"></i><span>Nh√≥m</span></div>
            <div class="sidebar-item"><i class="fas fa-store"></i><span>Marketplace</span></div>
            <div class="sidebar-item"><i class="fas fa-play-circle"></i><span>Watch</span></div>
            <div class="sidebar-item"><i class="fas fa-history"></i><span>K·ª∑ ni·ªám</span></div>
        </div>

        <!-- Feed -->
		<div class="feed">
		    <div class="post" th:each="post : ${postsWithInteraction}">
		        <div style="display: flex; align-items: center; margin-bottom: 10px;">
		            <img th:src="${post.user.profilePicture}" class="mini-avatar">
		            <div>
		                <strong th:text="${post.user.firstname + ' ' + post.user.lastname}"></strong>
		                <div style="font-size: 12px; color: #65676B;" th:text="${#temporals.format(post.createdAt, 'dd/MM/yyyy HH:mm')}"></div>
		            </div>
		        </div>

		        <p th:text="${post.content}"></p>

		        <img th:if="${post.imageUrl}" th:src="@{${post.imageUrl}}" style="width: 100%; border-radius: 8px; margin: 10px 0;">

		        <!-- Ph·∫ßn hi·ªÉn th·ªã s·ªë l∆∞·ª£t t∆∞∆°ng t√°c v√† n√∫t -->
		        <div style="margin-bottom: 10px;">
		            <!-- S·ªë l∆∞·ª£t t∆∞∆°ng t√°c -->
		            <div style="display: flex; justify-content: flex-end; font-size: 14px; color: #65676B; margin-bottom: 5px;">
		                <div style="display: flex; gap: 10px;">
		                    <span class="like-count" th:data-post-id="${post.postId}" th:text="|üëç ${post.likes}|"></span>
		                    <span class="comment-count" th:data-post-id="${post.postId}" th:text="|üí¨ ${post.comments}|"></span>
		                    <span class="share-count" th:data-post-id="${post.postId}" th:text="|üîÅ ${post.shares}|"></span>
		                </div>
		        </div>

		            <!-- N√∫t t∆∞∆°ng t√°c -->
		        <div style="display: flex; justify-content: space-between; padding: 10px 0; border-top: 1px solid #dadde1;">
		                <button class="btn like-btn" th:data-post-id="${post.postId}" 
		                        th:classappend="${post.isLiked ? 'liked' : ''}"
		                        th:data-liked="${post.isLiked}">
		                    <i class="far fa-thumbs-up like-icon"></i> 
		                    <span class="like-text">Th√≠ch</span>
		                </button>
		                <button class="btn comment-btn" th:data-post-id="${post.postId}">
		                    <i class="far fa-comment"></i> B√¨nh lu·∫≠n
		                </button>
		                <button class="btn share-btn" th:data-post-id="${post.postId}">
		                    <i class="far fa-share-square"></i> Chia s·∫ª
		                </button>
		            </div>
		        </div>

		        <!-- Comment section -->
		        <div class="comment-section" th:data-post-id="${post.postId}" style="margin-top: 10px;">
		            <!-- Comment input -->
		            <div class="comment-input-container" style="display: flex; gap: 10px; margin-bottom: 10px;">
		                <img th:src="${currentUser.profilePicture}" class="mini-avatar">
		                <input type="text" class="comment-input" th:data-post-id="${post.postId}"
		                       placeholder="Vi·∫øt b√¨nh lu·∫≠n..." 
		                       style="flex: 1; padding: 8px; border-radius: 20px; border: 1px solid #ccc;">
		                <button class="btn submit-comment" th:data-post-id="${post.postId}">G·ª≠i</button>
		            </div>

		            <!-- Comments list -->
		            <div class="comments-list" th:data-post-id="${post.postId}">
		                <!-- Container for initial comments (3 comments) -->
		                <div class="initial-comments">
		                    <div class="comment-item" th:each="comment, commentStat : ${post.commentList}" 
		                         th:if="${commentStat.index < 3}"
		                         style="display: flex; gap: 10px; margin-bottom: 10px; padding: 8px;">
		                        <img th:src="${comment.user.profilePicture}" class="mini-avatar">
		                        <div class="comment-content" style="flex: 1;">
		                            <div class="comment-bubble" style="background: #f0f2f5; padding: 8px 12px; border-radius: 18px;">
		                                <strong th:text="${comment.user.firstname + ' ' + comment.user.lastname}"></strong>
		                                <p th:text="${comment.content}" style="margin: 0;"></p>
		                            </div>
		                            <div class="comment-meta" style="font-size: 12px; color: #65676B; margin-top: 4px;">
		                                <span th:text="${#temporals.format(comment.createdAt, 'dd/MM/yyyy HH:mm')}"></span>
		                            </div>
		                        </div>
		                    </div>
		                </div>

		                <!-- Container for hidden comments -->
		                <div class="hidden-comments" style="display: none;">
		                    <div class="comment-item" th:each="comment, commentStat : ${post.commentList}" 
		                         th:if="${commentStat.index >= 3}"
		                         style="display: flex; gap: 10px; margin-bottom: 10px; padding: 8px;">
		                        <img th:src="${comment.user.profilePicture}" class="mini-avatar">
		                        <div class="comment-content" style="flex: 1;">
		                            <div class="comment-bubble" style="background: #f0f2f5; padding: 8px 12px; border-radius: 18px;">
		                                <strong th:text="${comment.user.firstname + ' ' + comment.user.lastname}"></strong>
		                                <p th:text="${comment.content}" style="margin: 0;"></p>
		                            </div>
		                            <div class="comment-meta" style="font-size: 12px; color: #65676B; margin-top: 4px;">
		                                <span th:text="${#temporals.format(comment.createdAt, 'dd/MM/yyyy HH:mm')}"></span>
		                            </div>
		                        </div>
		                    </div>
		                </div>

		                <!-- Comment control buttons -->
		                <div class="comment-controls" th:if="${post.commentList.size() > 3}">
		                    <button class="btn view-more-btn" th:data-post-id="${post.postId}"
		                            style="color: #65676B; font-weight: 600; padding: 8px 16px; text-align: left;">
		                        Xem th√™m b√¨nh lu·∫≠n...
		                    </button>
		                    <button class="btn hide-comments-btn" th:data-post-id="${post.postId}"
		                            style="color: #65676B; font-weight: 600; padding: 8px 16px; text-align: left; display: none;">
		                        ·∫®n b·ªõt b√¨nh lu·∫≠n
		                    </button>
		                </div>
		            </div>
		        </div>
		    </div>
		</div>


        <!-- G·ª£i √Ω b·∫°n b√® -->
        <div class="right-sidebar">
            <div class="friend-suggestion">
                <div class="suggestion-header">Nh·ªØng ng∆∞·ªùi b·∫°n c√≥ th·ªÉ bi·∫øt</div>

                <div class="friend-item" th:each="user : ${suggestions}">
                    <img th:src="${user.profilePicture}" style="border-radius: 50%; width: 50px; height: 50px; object-fit: cover;">
                    <div class="friend-info">
                        <div class="friend-name" th:text="${user.firstname + ' ' + user.lastname}"></div>
                        <div class="mutual-friends">B·∫°n chung: 5</div> <!-- C√≥ th·ªÉ t√≠nh sau -->
                    </div>
                    <button class="add-friend-btn">
                        <i class="fas fa-user-plus"></i> Th√™m b·∫°n
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Share Dialog -->
    <div id="shareDialog" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Chia s·∫ª b√†i vi·∫øt</h3>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <p>B·∫°n c√≥ mu·ªën chia s·∫ª b√†i vi·∫øt n√†y v·ªÅ trang c√° nh√¢n?</p>
            </div>
            <div class="modal-footer">
                <button class="btn cancel-share">H·ªßy</button>
                <button class="btn btn-primary confirm-share">Chia s·∫ª</button>
            </div>
        </div>
    </div>
</body>

<script th:inline="javascript">
document.addEventListener('DOMContentLoaded', function() {
    // Th√™m h√†m showNotification
    function showNotification(message, type = 'success') {
        // X√≥a notification c≈© n·∫øu c√≥
        const existingNotification = document.querySelector('.notification');
        if (existingNotification) {
            existingNotification.remove();
        }

        const notification = document.createElement('div');
        notification.className = `notification ${type}`;
        notification.textContent = message;
        
        // Style cho notification
        Object.assign(notification.style, {
            position: 'fixed',
            bottom: '20px',
            right: '20px',
            padding: '12px 24px',
            borderRadius: '8px',
            color: 'white',
            zIndex: '1001',
            animation: 'slideInRight 0.3s ease-in-out',
            backgroundColor: type === 'success' ? '#4BB543' : '#ff3333'
        });

        document.body.appendChild(notification);

        // T·ª± ƒë·ªông x√≥a notification sau 3 gi√¢y
        setTimeout(() => {
            notification.style.animation = 'slideOutRight 0.3s ease-in-out';
            setTimeout(() => notification.remove(), 300);
        }, 3000);
    }

    let currentPostIdForShare = null;

    // X·ª≠ l√Ω n√∫t Like
    document.querySelectorAll('.like-btn').forEach(button => {
        button.addEventListener('click', function() {
            const postId = this.getAttribute('data-post-id');
            const isLiked = this.getAttribute('data-liked') === 'true';
            const likeIcon = this.querySelector('.like-icon');
            const likeText = this.querySelector('.like-text');

            // Th√™m class animation
            likeIcon.classList.add('animating');
            
            fetch(`/posts/${postId}/like`, {
                method: 'POST',
                credentials: 'include'
            })
            .then(response => {
                if (!response.ok) throw new Error('Network response was not ok');
                return response.json();
            })
            .then(data => {
                // C·∫≠p nh·∫≠t s·ªë l∆∞·ª£t like
                const likeCountElement = document.querySelector(`.like-count[data-post-id="${postId}"]`);
                if (likeCountElement) {
                    likeCountElement.textContent = `üëç ${data.likeCount}`;
                }

                // Toggle tr·∫°ng th√°i like
                if (data.isLiked) {
                    this.classList.add('liked');
                    this.setAttribute('data-liked', 'true');
                    likeIcon.classList.remove('far');
                    likeIcon.classList.add('fas');
                } else {
                    this.classList.remove('liked');
                    this.setAttribute('data-liked', 'false');
                    likeIcon.classList.remove('fas');
                    likeIcon.classList.add('far');
                }

                // X√≥a class animation sau khi ho√†n th√†nh
                setTimeout(() => {
                    likeIcon.classList.remove('animating');
                }, 400);
            })
            .catch(error => {
                console.error('Error:', error);
                showNotification('C√≥ l·ªói x·∫£y ra khi th√≠ch b√†i vi·∫øt', 'error');
            });
        });
    });

    // X·ª≠ l√Ω n√∫t Comment
    document.querySelectorAll('.comment-btn').forEach(button => {
        button.addEventListener('click', function() {
            const postId = this.getAttribute('data-post-id');
            const commentSection = document.querySelector(`.comment-section[data-post-id="${postId}"]`);
            if (commentSection) {
                commentSection.style.display = commentSection.style.display === 'none' ? 'block' : 'none';
            }
        });
    });

    // X·ª≠ l√Ω n√∫t xem th√™m v√† ·∫©n b·ªõt comment
    document.querySelectorAll('.view-more-btn, .hide-comments-btn').forEach(button => {
        button.addEventListener('click', function() {
            const postId = this.getAttribute('data-post-id');
            const commentsSection = this.closest('.comments-list');
            const hiddenComments = commentsSection.querySelector('.hidden-comments');
            const viewMoreBtn = commentsSection.querySelector('.view-more-btn');
            const hideCommentsBtn = commentsSection.querySelector('.hide-comments-btn');

            if (this.classList.contains('view-more-btn')) {
                // Hi·ªÉn th·ªã comments ·∫©n
                hiddenComments.style.display = 'block';
                // ·∫®n n√∫t xem th√™m
                viewMoreBtn.style.display = 'none';
                // Hi·ªán n√∫t ·∫©n b·ªõt
                hideCommentsBtn.style.display = 'block';
            } else {
                // ·∫®n comments
                hiddenComments.style.display = 'none';
                // Hi·ªán n√∫t xem th√™m
                viewMoreBtn.style.display = 'block';
                // ·∫®n n√∫t ·∫©n b·ªõt
                hideCommentsBtn.style.display = 'none';
            }
        });
    });

    // X·ª≠ l√Ω submit comment
    document.querySelectorAll('.submit-comment').forEach(button => {
        button.addEventListener('click', function() {
            const postId = this.getAttribute('data-post-id');
            const input = document.querySelector(`.comment-input[data-post-id="${postId}"]`);
            if (!input || !input.value.trim()) return;

            const formData = new URLSearchParams();
            formData.append('content', input.value.trim());

            fetch(`/posts/${postId}/comment`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                },
                body: formData,
                credentials: 'include'
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.json();
            })
            .then(data => {
                // C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng comment
                const commentCountElement = document.querySelector(`.comment-count[data-post-id="${postId}"]`);
                if (commentCountElement) {
                    commentCountElement.textContent = `üí¨ ${data.totalComments}`;
                }

                // Th√™m comment m·ªõi v√†o danh s√°ch
                const commentsList = document.querySelector(`.comments-list[data-post-id="${postId}"]`);
                if (commentsList) {
                    const initialComments = commentsList.querySelector('.initial-comments');
                    const hiddenComments = commentsList.querySelector('.hidden-comments');
                    
                    const newCommentHtml = `
                        <div class="comment-item" style="display: flex; gap: 10px; margin-bottom: 10px; padding: 8px;">
                            <img src="${data.user.profilePicture}" class="mini-avatar">
                            <div class="comment-content" style="flex: 1;">
                                <div class="comment-bubble" style="background: #f0f2f5; padding: 8px 12px; border-radius: 18px;">
                                    <strong>${data.user.firstname} ${data.user.lastname}</strong>
                                    <p style="margin: 0;">${data.content}</p>
                                </div>
                                <div class="comment-meta" style="font-size: 12px; color: #65676B; margin-top: 4px;">
                                    <span>V·ª´a xong</span>
                                </div>
                            </div>
                        </div>
                    `;

                    // N·∫øu c√≥ √≠t h∆°n 3 comment, th√™m v√†o initial-comments
                    if (initialComments.children.length < 3) {
                        initialComments.insertAdjacentHTML('afterbegin', newCommentHtml);
                    } else {
                        // N·∫øu ƒë√£ c√≥ 3 comment tr·ªü l√™n, th√™m v√†o hidden-comments
                        hiddenComments.insertAdjacentHTML('afterbegin', newCommentHtml);
                        
                        // Hi·ªÉn th·ªã n√∫t "Xem th√™m" n·∫øu ch∆∞a c√≥
                        const viewMoreBtn = commentsList.querySelector('.view-more-btn');
                        if (viewMoreBtn) {
                            viewMoreBtn.style.display = 'block';
                        }
                    }
                }

                // X√≥a n·ªôi dung input
                input.value = '';
                
                // Hi·ªÉn th·ªã th√¥ng b√°o th√†nh c√¥ng
                showNotification('ƒê√£ th√™m b√¨nh lu·∫≠n th√†nh c√¥ng!');
            })
            .catch(error => {
                console.error('Error:', error);
                showNotification('C√≥ l·ªói x·∫£y ra khi th√™m b√¨nh lu·∫≠n', 'error');
            });
        });
    });

    // X·ª≠ l√Ω n√∫t chia s·∫ª
    document.querySelectorAll('.share-btn').forEach(button => {
        button.addEventListener('click', function() {
            currentPostIdForShare = this.getAttribute('data-post-id');
            document.getElementById('shareDialog').style.display = 'flex';
        });
    });

    // X·ª≠ l√Ω n√∫t x√°c nh·∫≠n chia s·∫ª
    document.querySelector('.confirm-share').addEventListener('click', function() {
        if (!currentPostIdForShare) return;

        fetch(`/posts/${currentPostIdForShare}/share`, {
            method: 'POST',
            credentials: 'include'
        })
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(data => {
            // C·∫≠p nh·∫≠t s·ªë l∆∞·ª£t chia s·∫ª
            const shareCountElement = document.querySelector(`.share-count[data-post-id="${currentPostIdForShare}"]`);
            if (shareCountElement) {
                shareCountElement.textContent = `üîÅ ${data.shareCount}`;
            }

            // Hi·ªÉn th·ªã th√¥ng b√°o th√†nh c√¥ng
            showNotification('ƒê√£ chia s·∫ª b√†i vi·∫øt th√†nh c√¥ng!');
            
            // ƒê√≥ng modal
            document.getElementById('shareDialog').style.display = 'none';
        })
        .catch(error => {
            console.error('Error:', error);
            showNotification('C√≥ l·ªói x·∫£y ra khi chia s·∫ª b√†i vi·∫øt!', 'error');
        });
    });

    document.addEventListener("DOMContentLoaded", function () {
        const shareDialog = document.getElementById("shareDialog");
        const closeModalBtn = document.querySelector(".close-modal");
        const cancelShareBtn = document.querySelector(".cancel-share");

        function closeShareModal() {
            shareDialog.style.display = "none";
            currentPostIdForShare = null;
            // Cho ph√©p scroll l·∫°i
            document.body.style.overflow = 'auto';
        }

        closeModalBtn.addEventListener("click", closeShareModal);
        cancelShareBtn.addEventListener("click", closeShareModal);
    });

    // Th√™m CSS cho animation
    const style = document.createElement('style');
    style.textContent = `
        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideOutRight {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(100%);
                opacity: 0;
            }
        }
    `;
    document.head.appendChild(style);
});
</script>
</body>
</html>